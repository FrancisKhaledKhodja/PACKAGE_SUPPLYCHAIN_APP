<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>STOCK DÉTAILLÉ</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="js/api.js?v=1" defer></script>
  <script src="js/stock_detailed.js?v=1" defer></script>
</head>
<body>
  <div id="scapp-header"></div>

  <div class="layout" style="font-size:1rem;">
    <main class="card">
      <h2 style="margin:0 0 8px; color:var(--muted)">Recherche d'articles</h2>
      <form id="form-search-stock-detailed" class="row" onsubmit="return false;">
        <input type="text" id="q-stock-detailed" placeholder="Code article, libellé, famille, etc." style="flex:1" />
        <button id="btn-search-stock-detailed" type="submit">Rechercher</button>
      </form>

      <div class="section"></div>
      <div id="results-meta-stock-detailed" class="row" style="justify-content:space-between">
        <div id="results-count-stock-detailed" class="muted"></div>
        <div></div>
      </div>
      <div class="card" style="margin-top:8px;">
        <div style="overflow:auto; max-height:65vh;">
          <table id="tbl-items-stock-detailed">
            <thead><tr id="thead-row-items-stock-detailed"></tr></thead>
            <tbody id="tbody-rows-items-stock-detailed"></tbody>
          </table>
        </div>
      </div>
    </main>

    <aside class="card">
      <h2 style="margin:0 0 8px; color:var(--muted)">Stock détaillé par magasin</h2>
      <div class="muted" id="stock-detailed-meta" style="font-size:0.9rem; margin-bottom:6px;"></div>

      <form id="form-filters-stock-detailed" class="row" style="flex-wrap:wrap; gap:6px; margin-bottom:8px;" onsubmit="return false;">
        <input type="text" id="filter-code-magasin" placeholder="Code magasin" style="flex:1; min-width:120px;" />
        <input type="text" id="filter-type-depot" placeholder="Type de dépôt" style="flex:1; min-width:120px;" />
        <input type="text" id="filter-flag-dm" placeholder="D/M" style="width:80px;" />
        <input type="text" id="filter-code-qualite" placeholder="Code qualité" style="flex:1; min-width:120px;" />
      </form>

      <div class="card" style="max-height:78vh; overflow:auto;">
        <table id="tbl-stock-detailed">
          <thead><tr id="thead-row-stock-detailed"></tr></thead>
          <tbody id="tbody-rows-stock-detailed"></tbody>
        </table>
      </div>
    </aside>
  </div>
</body>
</html>
